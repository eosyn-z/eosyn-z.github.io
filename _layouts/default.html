<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%} 

  <body data-theme="c">
    <header class="glass-nav top-nav">
      <div class="nav-container">
        <!-- Website Mode Navigation -->
        <div class="nav-links-header">
          <a href="{{ "/" | relative_url }}" class="glass-button">Home</a>
          <nav class="nav-links">
            <!-- Site Pages -->
            <a href="{{ "/music/" | relative_url }}" class="glass-button">Music</a>
            <a href="{{ "/portfolio/" | relative_url }}" class="glass-button">Portfolio</a>
            <a href="{{ "/howtodothat/" | relative_url }}" class="glass-button">How To Do That</a>
            <a href="{{ "/nature/" | relative_url }}" class="glass-button">Nature</a>
            <a href="{{ "/search/" | relative_url }}" class="glass-button">Search</a>
            <a href="{{ "/chat/" | relative_url }}" class="glass-button">Chat</a>
            <a href="{{ "/projects/" | relative_url }}" class="glass-button">Projects</a>
            <a href="{{ "/paint.html" | relative_url }}" class="glass-button">Paint</a>
            
            <!-- Games -->
            <a href="{{ "/games/" | relative_url }}" class="glass-button">Games</a>
            <a href="{{ "/snake/" | relative_url }}" class="glass-button">Snake</a>
            <a href="{{ "/tetris/" | relative_url }}" class="glass-button">Tetris</a>
            <a href="{{ "/pong/" | relative_url }}" class="glass-button">Pong</a>
            <a href="{{ "/minecraft/" | relative_url }}" class="glass-button">Minecraft</a>
            
            <!-- Desktop -->
            <a href="{{ "/desktop/" | relative_url }}" class="glass-button">🖥️ Desktop</a>
            <a href="{{ "/sticky-notes/" | relative_url }}" class="glass-button">📝 Sticky Notes</a>
            <a href="{{ "/desktopsettings/" | relative_url }}" class="glass-button">⚙️ Desktop Settings</a>
            <a href="{{ "/windowsettings/" | relative_url }}" class="glass-button">🪟 Window Settings</a>
          </nav>
        </div>
        
        <!-- Desktop Mode Navigation (simplified) -->
        <div class="nav-links-desktop" style="display: none;">
          <a href="{{ "/" | relative_url }}" class="glass-button back-btn">← Back to Website</a>
        </div>
        
        <div class="header-controls">
          <!-- View Toggle -->
          <div class="view-toggle-container">
            <button id="view-toggle" class="view-toggle-btn glass-button" title="Toggle Desktop Mode">
              <span class="view-icon website">🌐</span>
              <span class="view-icon desktop" style="display: none;">🖥️</span>
            </button>
          </div>
          <div class="theme-buttons">
            <div class="theme-btn active" data-theme="c" title="C - Cosmic"></div>
            <div class="theme-btn" data-theme="a" title="A - Aurora"></div>
            <div class="theme-btn" data-theme="r" title="R - Rainbow"></div>
            <div class="theme-btn" data-theme="z" title="Z - Zenith"></div>
            <div class="theme-btn" data-theme="e" title="E - Eclipse"></div>
            <div class="theme-btn" data-theme="n" title="N - Nebula"></div>
            <div class="theme-btn custom-theme" data-theme="custom" title="🎨 Custom Theme Editor">🎨</div>
          </div>
          {%- include discord_status.html -%}
        </div>
      </div>
    </header>
    <main class="main-content">
      {{ content }}
    </main>

    {%- include bottom_bar.html -%}

    <div id="desktop-background"></div>
    <div id="window-container"></div>
    
    {%- if page.url == "/" or page.url == "/index.html" or page.url == "" or page.url == nil -%}
    <!-- Cookie Consent -->
    <div class="cookie-consent glass-card" id="cookieConsent" style="display: none;">
      <h3 style="margin: 0 0 10px 0; color: var(--theme-text-primary); font-size: 16px;">🍪 Cookie Notice</h3>
      <p style="margin: 0 0 15px 0; color: var(--theme-text-secondary); font-size: 14px; line-height: 1.5;">This website uses cookies to save your theme preference and improve your experience. We only store your theme choice and don't track any personal information.</p>
      <div class="cookie-buttons">
        <button class="glass-button cookie-btn reject" onclick="rejectCookies()">Reject</button>
        <button class="glass-button cookie-btn accept" onclick="acceptCookies()">Accept</button>
      </div>
    </div>
    {%- endif -%}
    <script>
      // Pass the site's base URL to the JavaScript environment
      window.siteBaseUrl = "{{ site.baseurl | default: '' }}";
      // Load all site pages into a global variable for scripts to use
      window.jekyllPages = {% include all_pages_json.html %};
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.2/Sortable.min.js"></script>
    <script src="{{ "/assets/js/theme-switcher.js" | relative_url }}"></script>
    <script src="{{ "/assets/js/desktop.js" | relative_url }}"></script>
    <script src="{{ "/assets/js/favorites.js" | relative_url }}"></script>
    {%- include theme-editor.html -%}
  </body>

</html> 
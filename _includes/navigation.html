<!-- Website Mode Navigation -->
<div class="nav-links-header">
  <a href="{{ "/desktop/" | relative_url }}" class="glass-button desktop-toggle">‚≠ê Desktop</a>
  <a href="{{ "/" | relative_url }}" class="glass-button home-link active">Home</a>
  <nav class="nav-links">
    <!-- Site Pages -->
    <a href="{{ "/music/" | relative_url }}" class="glass-button">Music</a>
    <a href="{{ "/portfolio/" | relative_url }}" class="glass-button">Portfolio</a>
    <a href="{{ "/howtodothat/" | relative_url }}" class="glass-button">How To</a>
    <a href="{{ "/nature/" | relative_url }}" class="glass-button">Nature</a>
    <a href="{{ "/search/" | relative_url }}" class="glass-button">Search</a>
    <a href="{{ "/chat/" | relative_url }}" class="glass-button">Chat</a>
    
    <!-- Games -->
    <a href="{{ "/games/" | relative_url }}" class="glass-button">Games</a>
  </nav>
</div>

<!-- Desktop Mode Navigation (simplified) -->
<div class="nav-links-desktop" style="display: none;">
  <a href="{{ "/" | relative_url }}" class="glass-button back-btn">‚Üê Back to Website</a>
</div>

<div class="header-controls">
  <!-- View Toggle (Functionally replaced by Desktop button, can be hidden or repurposed) -->
  <div class="view-toggle-container" style="display: flex; align-items: center; justify-content: center;">
    <button id="view-toggle" class="desktop-star-btn glass-button" title="Toggle Desktop Mode" style="width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.7rem; padding: 0; background: linear-gradient(135deg, #8b5cf6 0%, #67e8f9 100%); box-shadow: 0 2px 12px 0 rgba(80,40,120,0.10); border: 2px solid var(--theme-accent, #8b5cf6); color: #fff;">
      <span style="display: block; width: 100%; text-align: center;">‚≠ê</span>
    </button>
  </div>
  <div class="theme-buttons">
    <div class="theme-btn active" data-theme="c" title="C - Cosmic"></div>
    <div class="theme-btn" data-theme="a" title="A - Aurora"></div>
    <div class="theme-btn" data-theme="r" title="R - Rainbow"></div>
    <div class="theme-btn" data-theme="z" title="Z - Zenith"></div>
    <div class="theme-btn" data-theme="e" title="E - Eclipse"></div>
    <div class="theme-btn" data-theme="n" title="N - Nebula"></div>
    <div class="theme-btn custom-theme" data-theme="custom" title="üé® Custom Theme Editor">üé®</div>
    <button id="sticky-note-tray-btn" class="theme-btn sticky-note-btn" title="Quick Sticky Note" type="button">+</button>
  </div>
  {%- include discord_status.html -%}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const currentPage = window.location.pathname;
    const navLinks = document.querySelectorAll('.nav-links a.glass-button');
    const homeLink = document.querySelector('a.home-link');

    let isPageActive = false;
    navLinks.forEach(link => {
      const linkPath = new URL(link.href).pathname;
      if (currentPage.startsWith(linkPath) && linkPath !== '/') {
        link.classList.add('active');
        isPageActive = true;
      } else {
        link.classList.remove('active');
      }
    });

    if (!isPageActive && homeLink) {
        if(currentPage === '/' || currentPage === '/index.html') {
            homeLink.classList.add('active');
        } else {
            homeLink.classList.remove('active');
        }
    } else if (homeLink) {
      homeLink.classList.remove('active');
    }
  });
</script> 
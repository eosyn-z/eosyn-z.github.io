<!-- Website Mode Navigation -->
<div class="nav-links-header">
  <a href="{{ "/desktop/" | relative_url }}" class="glass-button desktop-toggle">⭐ Desktop</a>
  <a href="{{ "/" | relative_url }}" class="glass-button home-link active">Home</a>
  <nav class="nav-links">
    <!-- Site Pages -->
    <a href="{{ "/music/" | relative_url }}" class="glass-button">Music</a>
    <a href="{{ "/portfolio/" | relative_url }}" class="glass-button">Portfolio</a>
    <a href="{{ "/howtodothat/" | relative_url }}" class="glass-button">How To</a>
    <a href="{{ "/nature/" | relative_url }}" class="glass-button">Nature</a>
    <a href="{{ "/search/" | relative_url }}" class="glass-button">Search</a>
    <a href="{{ "/chat/" | relative_url }}" class="glass-button">Chat</a>
    
    <!-- Games -->
    <a href="{{ "/games/" | relative_url }}" class="glass-button">Games</a>
  </nav>
</div>

<!-- Desktop Mode Navigation (simplified) -->
<div class="nav-links-desktop" style="display: none;">
  <a href="{{ "/" | relative_url }}" class="glass-button back-btn">← Back to Website</a>
</div>

<div class="header-controls">
  <!-- View Toggle (Functionally replaced by Desktop button, can be hidden or repurposed) -->
  <div class="view-toggle-container" style="display: none;">
    <button id="view-toggle" class="view-toggle-btn glass-button" title="Toggle Desktop Mode">
      <span class="view-icon website">🌐</span>
      <span class="view-icon desktop" style="display: none;">🖥️</span>
    </button>
  </div>
  <div class="theme-buttons">
    <div class="theme-btn active" data-theme="c" title="C - Cosmic"></div>
    <div class="theme-btn" data-theme="a" title="A - Aurora"></div>
    <div class="theme-btn" data-theme="r" title="R - Rainbow"></div>
    <div class="theme-btn" data-theme="z" title="Z - Zenith"></div>
    <div class="theme-btn" data-theme="e" title="E - Eclipse"></div>
    <div class="theme-btn" data-theme="n" title="N - Nebula"></div>
    <div class="theme-btn custom-theme" data-theme="custom" title="🎨 Custom Theme Editor">🎨</div>
  </div>
  {%- include discord_status.html -%}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const currentPage = window.location.pathname;
    const navLinks = document.querySelectorAll('.nav-links a.glass-button');
    const homeLink = document.querySelector('a.home-link');

    let isPageActive = false;
    navLinks.forEach(link => {
      const linkPath = new URL(link.href).pathname;
      if (currentPage.startsWith(linkPath) && linkPath !== '/') {
        link.classList.add('active');
        isPageActive = true;
      } else {
        link.classList.remove('active');
      }
    });

    if (!isPageActive && homeLink) {
        if(currentPage === '/' || currentPage === '/index.html') {
            homeLink.classList.add('active');
        } else {
            homeLink.classList.remove('active');
        }
    } else if (homeLink) {
      homeLink.classList.remove('active');
    }
  });
</script> 